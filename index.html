<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Gom Xu ƒê√†o V√†ng</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <style>
        .active-tab { color: #facc15; border-top: 3px solid #facc15; font-weight: 900; }
        .bg-main { background: linear-gradient(to bottom, #008f5a, #d2b48c); }
        .bg-glass { background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); }
        input { color: white; }
    </style>
</head>
<body class="bg-main min-h-screen p-4 pb-24 font-bold text-white select-none">

    <div class="sticky top-0 z-50 bg-[#fff8e7] border-4 border-[#8b5e3c] p-3 rounded-2xl shadow-xl flex justify-between items-center mb-6 text-[#4a2e19]">
        <div class="flex items-center gap-2">
            <div class="w-10 h-10 bg-orange-500 rounded-full border-2 border-[#8b5e3c] flex items-center justify-center text-white text-xl">üë®‚Äçüåæ</div>
            <div>
                <span class="text-[10px] opacity-70 uppercase tracking-tighter">S·ªë d∆∞ v√†ng</span>
                <div class="flex items-center gap-1 text-xl font-black text-yellow-600">üí∞ <span id="balance">500</span></div>
            </div>
        </div>
        <div class="text-right border-l border-[#8b5e3c] pl-3">
            <p class="text-[10px] text-green-700 font-black">T·ªëc ƒë·ªô</p>
            <p class="text-xs font-bold text-green-600">+<span id="rate">0</span>/h</p>
        </div>
    </div>

    <div id="main-content">
        <div id="tab-mine" class="grid grid-cols-2 gap-3"></div>

        <div id="tab-task" class="hidden space-y-4">
            <div class="bg-glass p-5 rounded-3xl border border-yellow-500/30">
                <h3 class="text-xs text-yellow-400 mb-2 uppercase tracking-widest">üéÅ Nh·∫≠p Giftcode</h3>
                <div class="flex gap-2">
                    <input type="text" id="giftcode-input" placeholder="NH·∫¨P M√É..." class="flex-1 bg-black/40 p-3 rounded-xl text-xs outline-none border border-white/10 uppercase">
                    <button onclick="redeemCode()" class="bg-yellow-500 text-[#4a2e19] px-4 rounded-xl text-xs font-black">NH·∫¨N</button>
                </div>
            </div>
            <div class="bg-glass p-5 rounded-3xl space-y-3">
                <h3 class="text-xs uppercase text-blue-300">Nhi·ªám v·ª• c·ªông ƒë·ªìng</h3>
                <div class="flex justify-between items-center bg-black/20 p-3 rounded-2xl">
                    <span class="text-[11px]">Tham gia @chatcunggau</span>
                    <button onclick="doTask('@chatcunggau', 100, 1)" id="task-1" class="bg-blue-500 px-4 py-1 rounded-lg text-[10px]">100 üí∞</button>
                </div>
                <div class="flex justify-between items-center bg-black/20 p-3 rounded-2xl">
                    <span class="text-[11px]">Tham gia @baokmcunggau</span>
                    <button onclick="doTask('@baokmcunggau', 150, 2)" id="task-2" class="bg-blue-500 px-4 py-1 rounded-lg text-[10px]">150 üí∞</button>
                </div>
            </div>
        </div>

        <div id="tab-ref" class="hidden space-y-4 text-center">
            <div class="bg-glass p-6 rounded-3xl border border-white/20 shadow-xl">
                <h2 class="text-xl font-black mb-2 text-yellow-300">üë• M·ªúI B·∫†N B√à</h2>
                <p class="text-[11px] opacity-80 mb-4">Th∆∞·ªüng 200 v√†ng/l∆∞·ª£t m·ªùi th√†nh c√¥ng.</p>
                <input id="ref-url" readonly class="w-full bg-black/40 p-3 rounded-2xl text-[10px] outline-none text-center mb-3 font-mono border border-white/10">
                <button onclick="copyLink()" class="w-full bg-yellow-500 text-[#4a2e19] py-3 rounded-2xl font-black">SAO CH√âP LI√äN K·∫æT</button>
            </div>
        </div>

        <div id="tab-draw" class="hidden space-y-4 text-center">
            <div class="bg-glass p-6 rounded-3xl space-y-3 border border-white/20">
                <p class="text-[10px] text-yellow-200 uppercase">T·ªâ l·ªá: 100.000 V√†ng = 5.000 VND</p>
                <p class="text-[9px] text-red-300 italic">R√∫t t·ªëi thi·ªÉu: 100.000 v√†ng</p>
                <input type="text" id="draw-info" placeholder="Ng√¢n h√†ng | STK | T√™n" class="w-full p-3 rounded-xl bg-black/30 outline-none text-xs border border-white/10">
                <input type="number" id="draw-gold" oninput="updateVnd(this.value)" placeholder="S·ªë v√†ng mu·ªën r√∫t" class="w-full p-3 rounded-xl bg-black/30 outline-none text-xs border border-white/10">
                <p class="text-yellow-400 text-sm font-black py-2">B·∫°n s·∫Ω nh·∫≠n: <span id="vnd-preview">0</span> VND</p>
                <button onclick="withdraw()" class="w-full bg-orange-600 py-4 rounded-2xl font-black shadow-lg active:scale-95 transition">X√ÅC NH·∫¨N R√öT</button>
            </div>
        </div>

        <div id="tab-admin" class="hidden space-y-4 pb-10">
            <div class="bg-red-900/40 p-5 rounded-3xl border border-red-500/50">
                <h2 class="text-center text-red-400 font-black mb-4">QU·∫¢N TR·ªä VI√äN</h2>
                <div class="bg-black/20 p-3 rounded-xl mb-4 border border-white/5">
                    <p class="text-[10px] text-yellow-500 mb-2">T·∫†O GIFTCODE:</p>
                    <input type="text" id="admin-code" placeholder="M√£ qu√† t·∫∑ng" class="w-full p-2 mb-2 rounded bg-black/40 text-xs uppercase outline-none">
                    <input type="number" id="admin-code-val" placeholder="S·ªë v√†ng t·∫∑ng" class="w-full p-2 mb-2 rounded bg-black/40 text-xs outline-none">
                    <input type="number" id="admin-code-limit" placeholder="S·ªë l∆∞·ª£t nh·∫≠p" class="w-full p-2 mb-2 rounded bg-black/40 text-xs outline-none">
                    <button onclick="createGiftcode()" class="w-full bg-yellow-600 py-2 rounded text-xs font-black">X√ÅC NH·∫¨N T·∫†O</button>
                </div>
                <div class="bg-black/20 p-3 rounded-xl mb-4 border border-white/5">
                    <p class="text-[10px] text-blue-400 mb-2">S·ª¨A S·ªê D∆Ø (UID):</p>
                    <input type="text" id="admin-uid" placeholder="UID ng∆∞·ªùi ch∆°i" class="w-full p-2 mb-2 rounded bg-black/40 text-xs outline-none">
                    <input type="number" id="admin-amount" placeholder="S·ªë v√†ng" class="w-full p-2 mb-2 rounded bg-black/40 text-xs outline-none">
                    <div class="flex gap-2">
                        <button onclick="adminAdjust(true)" class="flex-1 bg-green-600 py-2 rounded text-xs font-bold">C·ªòNG (+)</button>
                        <button onclick="adminAdjust(false)" class="flex-1 bg-red-600 py-2 rounded text-xs font-bold">TR·ª™ (-)</button>
                    </div>
                </div>
                <p class="text-[10px] text-green-400 mb-2 uppercase">L·ªánh r√∫t ch·ªù duy·ªát:</p>
                <div id="admin-withdraw-list" class="space-y-2"></div>
            </div>
        </div>
    </div>

    <div class="fixed bottom-0 left-0 right-0 bg-[#8b5e3c] h-18 flex justify-around items-center border-t-2 border-yellow-600 z-50">
        <button onclick="nav('mine')" id="btn-mine" class="flex flex-col items-center text-[10px] active-tab"><span>‚õèÔ∏è</span>ƒê√†o</button>
        <button onclick="nav('task')" id="btn-task" class="flex flex-col items-center text-[10px]"><span>üéÅ</span>Nhi·ªám v·ª•</button>
        <button onclick="nav('ref')" id="btn-ref" class="flex flex-col items-center text-[10px]"><span>üë•</span>M·ªùi b·∫°n</button>
        <button onclick="nav('draw')" id="btn-draw" class="flex flex-col items-center text-[10px]"><span>üí≥</span>R√∫t ti·ªÅn</button>
        <button onclick="nav('admin')" id="btn-admin" class="hidden flex-col items-center text-[10px] text-red-400"><span>‚öôÔ∏è</span>Admin</button>
    </div>

    <script src="script.js"></script>
</body>
    </html>
