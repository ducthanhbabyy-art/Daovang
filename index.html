<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Thanh ÄÃ o VÃ ng</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <style>
        .active-tab { color: #facc15; border-top: 3px solid #facc15; font-weight: 900; }
        .bg-main { background: linear-gradient(to bottom, #008f5a, #d2b48c); }
        .bg-glass { background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); }
        input::placeholder { color: rgba(255,255,255,0.5); }
    </style>
</head>
<body class="bg-main min-h-screen p-4 pb-24 font-bold text-white select-none">

    <div class="sticky top-0 z-50 bg-[#fff8e7] border-4 border-[#8b5e3c] p-3 rounded-2xl shadow-xl flex justify-between items-center mb-6 text-[#4a2e19]">
        <div class="flex items-center gap-2">
            <div class="w-10 h-10 bg-orange-500 rounded-full border-2 border-[#8b5e3c] flex items-center justify-center text-white text-xl">ğŸ‘¨â€ğŸŒ¾</div>
            <div>
                <span class="text-[10px] opacity-70 uppercase tracking-tighter">Sá»‘ dÆ° vÃ ng</span>
                <div class="flex items-center gap-1 text-xl font-black text-yellow-600">ğŸ’° <span id="balance">0.00</span></div>
            </div>
        </div>
        <div class="text-right border-l border-[#8b5e3c] pl-3">
            <p class="text-[10px] text-green-700 font-black">Tá»‘c Ä‘á»™</p>
            <p class="text-xs font-bold text-green-600">+<span id="rate">0</span>/h</p>
        </div>
    </div>

    <div id="main-content">
        <div id="tab-mine" class="grid grid-cols-2 gap-3"></div>

        <div id="tab-task" class="hidden space-y-4">
            <div class="bg-glass p-5 rounded-3xl space-y-3">
                <h3 class="text-sm">ğŸ Nhiá»‡m vá»¥ tham gia nhÃ³m</h3>
                <div class="flex justify-between items-center bg-black/20 p-3 rounded-2xl">
                    <span class="text-[11px]">Join @chatcunggau</span>
                    <button onclick="doTask('@chatcunggau', 100, 1)" id="task-1" class="bg-blue-500 px-4 py-1 rounded-lg text-[10px]">100 ğŸ’°</button>
                </div>
                <div class="flex justify-between items-center bg-black/20 p-3 rounded-2xl">
                    <span class="text-[11px]">Join @baokmcunggau</span>
                    <button onclick="doTask('@baokmcunggau', 150, 2)" id="task-2" class="bg-blue-500 px-4 py-1 rounded-lg text-[10px]">150 ğŸ’°</button>
                </div>
            </div>
        </div>

        <div id="tab-ref" class="hidden space-y-4 text-center">
            <div class="bg-glass p-6 rounded-3xl border border-white/20 shadow-2xl">
                <h2 class="text-xl font-black mb-2 text-yellow-300">ğŸ‘¥ Má»œI Báº N BÃˆ</h2>
                <p class="text-[10px] opacity-80 leading-relaxed mb-4">
                    Táº·ng <span class="text-green-400">200 vÃ ng</span> cho ngÆ°á»i má»i.<br>
                    Nháº­n <span class="text-green-400">10% hoa há»“ng</span> khi báº¡n bÃ¨ mua thá»£.
                </p>
                <div class="flex gap-2">
                    <input id="ref-url" readonly class="flex-1 bg-black/40 p-3 rounded-2xl text-[10px] outline-none text-center font-mono">
                    <button onclick="copyLink()" class="bg-yellow-500 text-[#4a2e19] px-4 rounded-2xl font-black active:scale-90 transition">COPY</button>
                </div>
            </div>
        </div>

        <div id="tab-draw" class="hidden space-y-4 text-center">
            <div class="bg-glass p-6 rounded-3xl space-y-3">
                <p class="text-xs opacity-80">Tá»‰ lá»‡: 1 VÃ ng = 0.0005 VND</p>
                <input type="text" id="draw-info" placeholder="NgÃ¢n hÃ ng | STK | TÃªn" class="w-full p-3 rounded-xl bg-black/30 outline-none text-xs text-white">
                <input type="number" id="draw-gold" oninput="updateVnd(this.value)" placeholder="Sá»‘ vÃ ng muá»‘n rÃºt" class="w-full p-3 rounded-xl bg-black/30 outline-none text-xs text-white">
                <p class="text-yellow-300 text-sm">Nháº­n Ä‘Æ°á»£c: <span id="vnd-preview">0</span> VND</p>
                <button onclick="withdraw()" class="w-full bg-orange-600 py-4 rounded-2xl font-black shadow-lg">XÃC NHáº¬N RÃšT</button>
            </div>
        </div>
    </div>

    <div class="fixed bottom-0 left-0 right-0 bg-[#8b5e3c] h-18 flex justify-around items-center border-t-2 border-yellow-600 z-50">
        <button onclick="nav('mine')" id="btn-mine" class="flex flex-col items-center text-[10px] active-tab"><span>â›ï¸</span>Khai thÃ¡c</button>
        <button onclick="nav('task')" id="btn-task" class="flex flex-col items-center text-[10px]"><span>ğŸ</span>Nhiá»‡m vá»¥</button>
        <button onclick="nav('ref')" id="btn-ref" class="flex flex-col items-center text-[10px]"><span>ğŸ‘¥</span>Má»i báº¡n</button>
        <button onclick="nav('draw')" id="btn-draw" class="flex flex-col items-center text-[10px]"><span>ğŸ’³</span>RÃºt tiá»n</button>
    </div>

    <script src="script.js"></script>
</body>
    </html>
